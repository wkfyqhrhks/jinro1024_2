<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>진로 카드뉴스 설문 (GitHub Pages)</title>
<style>
  :root{
    --bg:#f7f7f8; --card:#ffffff; --ink:#16181d; --sub:#6b7280;
    --pri:#7c3aed; --pri2:#ec4899; --mut:#e5e7eb; --chip:#eef2ff;
  }
  *{box-sizing:border-box}
  html,body{margin:0;background:var(--bg);color:var(--ink);font-family:ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Apple SD Gothic Neo,Noto Sans KR,Arial,sans-serif}
  .wrap{max-width:960px;margin:0 auto;padding:24px}
  .topbar{display:flex;align-items:center;justify-content:space-between;margin-bottom:8px}
  .title{font-weight:800;font-size:20px}
  .hint{color:var(--sub);font-size:14px}
  .progress{height:8px;border-radius:999px;background:var(--mut);overflow:hidden}
  .bar{height:100%;width:0;background:linear-gradient(90deg,var(--pri),var(--pri2));transition:width .25s}
  .card{background:var(--card);border-radius:20px;box-shadow:0 10px 30px rgba(0,0,0,.06);padding:28px}
  .grid{display:grid;gap:16px}
  .q-emoji{font-size:56px;margin-bottom:8px;text-align:center}
  .chip{display:inline-block;background:var(--chip);color:#3730a3;font-weight:700;border-radius:999px;padding:6px 12px;margin-bottom:12px;font-size:12px}
  .qtext{font-size:22px;line-height:1.5;text-align:center;margin:0 0 8px}
  .btn{border:0;border-radius:14px;padding:14px 16px;font-weight:700;color:#fff;cursor:pointer}
  .opt{width:100%}
  .opt1{background:linear-gradient(90deg,#22c55e,#059669)}
  .opt2{background:linear-gradient(90deg,#3b82f6,#06b6d4)}
  .opt3{background:linear-gradient(90deg,#8b5cf6,#6366f1)}
  .opt4{background:linear-gradient(90deg,#f59e0b,#f97316)}
  .opt5{background:linear-gradient(90deg,#ef4444,#fb7185)}
  .actions{display:flex;justify-content:space-between;margin-top:18px}
  .ghost{background:#111;color:#fff;border-radius:14px;padding:12px 18px}
  .muted{color:var(--sub);font-size:12px;text-align:center;margin-top:18px}
  /* 결과 */
  .result-head{text-align:center;margin:0 0 6px;font-size:28px;font-weight:800}
  .result-sub{color:var(--sub);text-align:center;margin:0 0 16px}
  .hero{display:grid;grid-template-columns:1fr;gap:18px;align-items:center}
  .hero.withImage{grid-template-columns:420px 1fr}
  .hero img{width:100%;max-width:520px;aspect-ratio:1/1;object-fit:contain;display:block;margin:0 auto}
  .score{background:#f9fafb;border-radius:16px;padding:16px}
  .score-row{margin-bottom:10px}
  .score-bar{height:8px;border-radius:999px;background:var(--mut);overflow:hidden}
  .score-fill{height:100%;border-radius:999px}
  .subtle{color:var(--sub)}
  .list{margin:0;padding:0 0 0 16px}
  .pill{display:inline-block;background:#111;color:#fff;padding:6px 10px;border-radius:999px;font-size:12px;margin-right:8px}
  .recommend{background:linear-gradient(90deg,#6366f1,#a855f7);color:#fff;border-radius:16px;padding:18px}
  .fullwidth{margin-top:16px;display:grid;gap:16px}
  .reset{display:inline-flex;gap:8px;align-items:center;background:#111;color:#fff;border:0;border-radius:12px;padding:10px 14px;font-weight:800;cursor:pointer}
  .hide{display:none !important}
</style>
</head>
<body>
  <div class="wrap">
    <div class="topbar">
      <div class="title">진로 카드뉴스 설문</div>
      <div class="hint">for GitHub Pages</div>
    </div>

    <div class="progress" aria-label="진행도"><div id="progressBar" class="bar"></div></div>
    <div class="subtle" style="text-align:right;margin:6px 0 18px"><span id="countText">0 / 36</span></div>

    <div id="app" class="grid"></div>

    <div class="actions">
      <button id="prevBtn" class="ghost" type="button">← 이전</button>
      <button id="nextBtn" class="ghost" type="button">다음 →</button>
    </div>
    <div class="muted"> · 방향키(←/→) 지원</div>
  </div>

  <script>
    /* 이미지 매핑(대소문자 주의) */
    const careerImages = {
      AI:"assets/AI.png", IA:"assets/IA.png", IE:"assets/IE.png", RI:"assets/RI.png",
      IT:"assets/IT.png", IC:"assets/IC.png", AS:"assets/AS.png", AC:"assets/AC.png",
      SC:"assets/SC.png", RA:"assets/RA.png", EC:"assets/EC.png", SE:"assets/SE.png"
      // RS 같은 커스텀 조합 이미지는 없을 수 있음 → 아래 pickImage()가 1순위 유형으로 대체
    };

    const typeInfo = {
      R:{name:'실재형', color:'#2563eb'}, I:{name:'탐구형', color:'#7c3aed'},
      A:{name:'예술형', color:'#ec4899'}, S:{name:'사회형', color:'#10b981'},
      E:{name:'진취형', color:'#f59e0b'}, C:{name:'관습형', color:'#6b7280'}, T:{name:'탐구형', color:'#7c3aed'}
    };

    /* 질문 */
    const questions=[ /* ——— 원문 36문항 그대로 ——— */ 
      {id:1,type:'R',text:'3D 프린터나 로봇과 같은 기계를 조작하여 결과물을 만드는 활동에 흥미를 느낀다.',emoji:'🔧',character:'미래 엔지니어'},
      {id:2,type:'R',text:'직접 물을 주며 야외에서 식물을 기르거나 동물을 돌보는 활동을 즐긴다.',emoji:'🌾',character:'바이오 전문가'},
      {id:3,type:'R',text:'복잡하게 쌓인 장난감이나 기계 장치의 퍼즐을 맞추며 해결하는 것에 흥미가 있다.',emoji:'🔩',character:'메카닉 마스터'},
      {id:4,type:'I',text:'새로운 과학 실험이나 연구 결과를 접하면 그 원리를 탐구하고 싶다.',emoji:'🔬',character:'과학 탐구자'},
      {id:5,type:'I',text:'궁금한 것이 생기면 반드시 질문하고 답을 찾아 오랫동안 연구하는 편이다.',emoji:'🔍',character:'지식 탐험가'},
      {id:6,type:'R',text:'가상현실(VR) 장비로 이용해 기계 작동 시뮬레이션을 경험하는 것이 좋다.',emoji:'🕹️',character:'VR 트레이너'},
      {id:7,type:'I',text:'수업은 데이터나 통계 자료를 분석하여 숨겨진 규칙이나 의미를 찾아내는 것에 흥미가 있다.',emoji:'📊',character:'빅데이터 분석가'},
      {id:8,type:'T',text:'인간의 심리, 뇌 과학 등 복잡한 인성의 원리를 깊이 있게 연구하고 싶다.',emoji:'🧠',character:'심리 과학자'},
      {id:9,type:'A',text:'그림, 음악, 연기 등 창의적인 방식으로 나의 생각을 자유롭게 표현하는 것이 즐겁다.',emoji:'🎨',character:'아티스트'},
      {id:10,type:'A',text:'새로운 노래나 공연을 기획하거나 직접 참여하는 활동을 즐겁게 한다.',emoji:'🎭',character:'크리에이터'},
      {id:11,type:'I',text:'미래 사회의 변화나 우주의 신비 등 미지의 영역에 대해 끊임없이 질문을 던진다.',emoji:'✨',character:'미래학자'},
      {id:12,type:'T',text:'복잡한 논리 게임이나 추리 소설을 읽으며 정보를 조합하고 결론을 도출하는 활동을 좋아한다.',emoji:'🔍',character:'논리학자'},
      {id:13,type:'A',text:'그림, 음악, 글쓰기 등 창의적인 방법으로 나의 생각이나 감정을 표현하는 것을 좋아한다.',emoji:'🎨',character:'멀티 아티스트'},
      {id:14,type:'A',text:'디지털 드로잉이나 미디어 아트 등 새로운 기술을 활용한 예술 활동에 관심이 많다.',emoji:'💻',character:'미디어 아티스트'},
      {id:15,type:'A',text:'영상 편집, 웹툰 제작, 게임 스토리 기획 등 현대 콘텐츠를 만드는 일을 하고 싶다.',emoji:'🎬',character:'콘텐츠 크리에이터'},
      {id:16,type:'A',text:'영화, 패션, 공연 디자인 등 창의적인 프로젝트를 기획하고 실현하고 싶다.',emoji:'🌟',character:'프로듀서'},
      {id:17,type:'S',text:'친구들 사이에서 갈등이나 문제가 생기면 중재하고 조화를 이루도록 돕는 역할을 자주 맡는다.',emoji:'🤝',character:'갈등 중재자'},
      {id:18,type:'S',text:'누군가 어려움에 처한 것을 보면 적극적으로 도움을 제공하거나 문제를 해결해주는 일에 보람을 느낀다.',emoji:'💝',character:'사회 봉사가'},
      {id:19,type:'S',text:'취약 계층이나 도움이 필요한 사람들을 위해 봉사하고 문제를 해결해주는 일에 보람을 느낀다.',emoji:'🏥',character:'사회 봉사가'},
      {id:20,type:'S',text:'친구들의 고민을 들어주고 공감하여 지지를 베푸는 역할이 편안하다.',emoji:'💬',character:'심리 상담가'},
      {id:21,type:'S',text:'다른 사람에게 새로운 지식이나 기술을 재미있고 효과적으로 가르치는 일을 잘한다.',emoji:'👩‍🏫',character:'교육자'},
      {id:22,type:'E',text:'사람들을 설득하거나 특정 목표를 향해 단체를 이끄는 리더 역할을 맡는 것이 재미있다.',emoji:'📣',character:'리더십 개발자'},
      {id:23,type:'S',text:'의료인 지원 활동을 운영하며 사람들의 의견을 모으고 갈등을 조정하는 역할을 즐긴다.',emoji:'📋',character:'커뮤니티 매니저'},
      {id:24,type:'S',text:'온라인 커뮤니티를 운영하며 사람들의 의견을 모으고 갈등을 조정하는 역할을 즐긴다.',emoji:'💬',character:'글로벌 컨설턴트'},
      {id:25,type:'E',text:'새로운 사업 아이디어나 제품을 기획하고 사람들에게 소개하여 구매를 권유하는 일을 잘한다.',emoji:'💡',character:'스타트업 CEO'},
      {id:26,type:'E',text:'팀 프로젝트에서 리더 역할을 맡아 사람들에게 동기를 부여하고 이끄는 것을 좋아한다.',emoji:'🔥',character:'카리스마 리더'},
      {id:27,type:'E',text:'친구들과 함께 모임을 조직하거나 이벤트를 기획하여 사람들을 즐겁게 하는 것을 즐긴다.',emoji:'🎉',character:'이벤트 플래너'},
      {id:28,type:'C',text:'복잡한 정보를 정리하여 체계적인 표나 파일로 정리하는 작업에 만족감을 느낀다.',emoji:'📊',character:'데이터 정리자'},
      {id:29,type:'E',text:'글로벌 시장의 트렌드를 파악하고 새로운 비즈니스 기회를 찾아내는 일을 하고 싶다.',emoji:'🌐',character:'국제 비즈니스맨'},
      {id:30,type:'E',text:'개인 브랜딩을 구축하거나 소셜 미디어를 통해 나의 영향력을 키우는 활동을 즐긴다.',emoji:'📱',character:'인플루언서'},
      {id:31,type:'C',text:'복잡한 서류나 대규모 데이터베이스를 분류하고 체계적으로 관리하는 일에 능숙하다.',emoji:'📊',character:'정보 관리자'},
      {id:32,type:'C',text:'정해진 규칙과 절차에 따라 일을 완벽하게 처리하는 데 만족감과 안도감을 느낀다.',emoji:'✅',character:'행정 전문가'},
      {id:33,type:'C',text:'재무 현황을 분석하고 예산 계획을 세우는 등의 간단한 수치를 다루는 일이 좋다.',emoji:'💰',character:'회계사'},
      {id:34,type:'C',text:'물품 보관이나 정리 작업을 체계적으로 진행하고 효율성을 높이는 데 능숙하다.',emoji:'📦',character:'물류 관리자'},
      {id:35,type:'C',text:'꼼꼼하고 정확한 업무 수행이 요구되는 일을 신속하게 처리할 수 있는 자신이 있다.',emoji:'✍️',character:'사무 전문가'},
      {id:36,type:'C',text:'새로운 자동화 도구나 업무 관리 시스템을 도입하여 효율성을 높이는 방법을 찾는다.',emoji:'⚙️',character:'업무 효율화 전문가'}
    ];

    /* 사전 정의된 조합(기존 + RS 추가) */
    const careerPaths={
      IA:{title:'AI 기반 콘텐츠 크리에이터',jobs:['데이터 시각화 디자이너','UX 리서치','미디어 아티스트','AI 아트 디렉터'],roadmap:{high:'미술, 정보, 미디어 교과 선택',college:'융합디자인, 데이터사이언스, 미디어 커뮤니케이션 전공',experience:'UI/UX 공모전, 포트폴리오 제작'},skills:['창의적 문제해결','데이터 리터러시','디자인 사고'],growth:85},
      IE:{title:'AI 스타트업 전략가',jobs:['AI 기획자','테크 PM','비즈니스 애널리스트','디지털 컨설턴트'],roadmap:{high:'수학, 컴퓨터과학, 경제',college:'경영경제/컴퓨터/산업공학',experience:'창업 동아리, 케이스 컴프'},skills:['논리적 사고','시장 분석','커뮤니케이션'],growth:92},
      AI:{title:'AI 엔지니어 겸 UX디자이너',jobs:['ML 리서처','챗봇 개발자','데이터 시각화','AI 인터랙션'],roadmap:{high:'수학, 과학, 정보',college:'컴공/AI/통계',experience:'코딩 대회, AI 프로젝트'},skills:['알고리즘','수학적 사고','창의적 해결'],growth:78},
      SE:{title:'소셜 임팩트 리더',jobs:['사회적기업가','CSR 매니저','임팩트 투자'],roadmap:{high:'사회문화, 윤리, 경제',college:'사회복지/경영/국제개발',experience:'봉사, 사회적경제 동아리'},skills:['공감','리더십','문제해결'],growth:73},
      RI:{title:'첨단 로봇 엔지니어',jobs:['로봇공학자','IoT 개발자','바이오 엔지니어'],roadmap:{high:'물리, 화학, 정보',college:'기계/전자/로봇',experience:'메이커/로봇 대회'},skills:['공학','설계','프로그래밍'],growth:88},
      IT:{title:'인간 중심 연구자',jobs:['심리학자','교육 연구원','신경과학자','UX 리서치'],roadmap:{high:'심리학, 사회문화, 생명과학',college:'심리/교육/인지과학',experience:'심리 실험/사회 조사'},skills:['논리','공감','연구 설계'],growth:76},
      IC:{title:'데이터 사이언티스트',jobs:['데이터 애널리스트','통계전문가','정량분석가'],roadmap:{high:'수학, 정보, 경제',college:'통계/수학/정보사회',experience:'데이터톤/리서치'},skills:['통계','프로그래밍','비즈니스 이해'],growth:95},
      AS:{title:'예술 치료 전문가',jobs:['음악/미술 치료사','문화기획자'],roadmap:{high:'음악, 미술, 심리',college:'예술치료/문예창작/심리',experience:'예술 봉사/커뮤니티'},skills:['창의성','공감','정서 표현'],growth:71},
      AC:{title:'디지털 아카이브 전문가',jobs:['큐레이터','디지털 아카이비스트','콘텐츠 에디터'],roadmap:{high:'미술, 역사, 정보',college:'문화콘텐츠/박물관/문헌정보',experience:'전시·아카이빙'},skills:['정보학','패턴 인식','창의성'],growth:68},
      SC:{title:'헬스케어 서비스 관리자',jobs:['공공기관 관리자','헬스케어 매니저'],roadmap:{high:'사회문화, 생명과학, 정보',college:'보건행정/사회복지/경영',experience:'의료봉사/서비스 기획'},skills:['소통','체계적 관리','문제 해결'],growth:82},
      RA:{title:'메이커 크리에이터',jobs:['제품 디자이너','3D 모델러','건축/인테리어'],roadmap:{high:'미술, 기술, 정보',college:'산디/기계/건축',experience:'모형 제작·메이커'},skills:['디자인','수리','제품 분석'],growth:82},
      EC:{title:'글로벌 무역 관리자',jobs:['국제 무역인','영업 관리자','글로벌 마케터'],roadmap:{high:'사회문화, 경제, 영어',college:'국제통상/경영/국제관계',experience:'무역 프로그램/교환학생'},skills:['협상력','국제 감각','분석'],growth:79},
      /* 새로 추가: RS (실재형×사회형) */
      RS:{title:'현장 서비스/공공안전 전문가',jobs:['응급구조·소방 공무원','보건의료 기술직','설비/안전관리자','재난 대응 코디네이터'],roadmap:{high:'생명과학, 보건, 기술·가정',college:'보건행정/응급구조/산업안전',experience:'의료·안전 봉사, 현장 실습'},skills:['대인 공감','현장 문제해결','기술 숙련'],growth:80}
    };

    /* 한 유형만으로도 추천 생성할 수 있도록 기본 템플릿 */
    const singleTypeSuggest={
      R:{title:'현장 기술 전문가',jobs:['설비·정비 기술자','품질관리','안전/산업기사'],roadmap:{high:'물리/화학/정보',college:'기계/전기/산업안전',experience:'메이커/현장 실습'},skills:['수리 능력','실행력','문제 해결'],growth:78},
      I:{title:'연구·분석 전문가',jobs:['연구원','데이터 분석','품질분석'],roadmap:{high:'수학/과학/정보',college:'공학/통계/자연과학',experience:'리서치/데이터톤'},skills:['분석','논리','실험 설계'],growth:80},
      A:{title:'크리에이티브 메이커',jobs:['콘텐츠 디자이너','영상/사운드 제작'],roadmap:{high:'미술/음악/정보',college:'디자인/콘텐츠',experience:'포트폴리오/공모전'},skills:['창의성','표현력','도구 활용'],growth:72},
      S:{title:'교육·상담·커뮤니티 전문가',jobs:['상담/교육','사회복지','코디네이터'],roadmap:{high:'사회/윤리/국어',college:'교육/심리/사회복지',experience:'봉사/멘토링'},skills:['공감','의사소통','협업'],growth:76},
      E:{title:'비즈니스 리더',jobs:['기획/마케팅','영업/창업'],roadmap:{high:'경제/사회/영어',college:'경영/경제',experience:'동아리/창업캠프'},skills:['리더십','설득','전략'],growth:83},
      C:{title:'운영·관리 전문가',jobs:['회계/총무','데이터 관리'],roadmap:{high:'수학/정보/사회',college:'경영/회계/행정',experience:'사무 실습/ERP'],skills:['정확성','체계화','도구 활용'],growth:74}
    };

    /* 상태 */
    let idx=0; const answers=[];
    const app=document.getElementById('app');
    const bar=document.getElementById('progressBar');
    const countText=document.getElementById('countText');
    const prevBtn=document.getElementById('prevBtn');
    const nextBtn=document.getElementById('nextBtn');

    function renderQuestion(){
      const q=questions[idx];
      const progress=Math.round(((idx+1)/questions.length)*100);
      bar.style.width=progress+'%';
      countText.textContent=`${idx+1} / ${questions.length}`;
      nextBtn.textContent='다음 →';
      prevBtn.classList.toggle('hide', idx===0);

      app.innerHTML=`
        <div class="card">
          <div class="q-emoji">${q.emoji}</div>
          <div class="chip">${typeInfo[q.type].name} · ${q.character}</div>
          <p class="qtext">${q.text}</p>
          <div class="grid">
            <button class="btn opt opt1" data-v="5">매우 그렇다</button>
            <button class="btn opt opt2" data-v="4">그렇다</button>
            <button class="btn opt opt3" data-v="3">보통이다</button>
            <button class="btn opt opt4" data-v="2">그렇지 않다</button>
            <button class="btn opt opt5" data-v="1">전혀 그렇지 않다</button>
          </div>
        </div>`;
      app.querySelectorAll('.opt').forEach(b=>{
        b.addEventListener('click',e=>{
          const v=Number(e.currentTarget.dataset.v);
          answers.push({type:q.type,value:v});
          if(idx<questions.length-1){ idx++; renderQuestion(); }
          else{ renderResult(); }
        });
      });
    }

    function calc(){
      const scores={R:0,I:0,A:0,S:0,E:0,C:0,T:0};
      answers.forEach(a=>scores[a.type]+=a.value);
      const ordered=Object.entries(scores).sort(([,a],[,b])=>b-a);
      const top2=ordered.filter(([t])=>t!=='T').slice(0,2).map(([t])=>t);
      const code=top2.join('');
      const flip=top2.slice().reverse().join('');
      return {scores, top2, code, flip};
    }

    function synthesizeCareer(top2){
      // 두 유형 조합이 없을 때: 두 단일 추천을 섞어 ‘융합 진로’를 생성
      const [t1,t2]=top2;
      const s1=singleTypeSuggest[t1], s2=singleTypeSuggest[t2];
      return {
        title:`${typeInfo[t1].name}×${typeInfo[t2].name} 융합 진로`,
        jobs:[...(s1?.jobs||[]),(s2?.jobs||[])].flat().slice(0,4),
        roadmap:{
          high:[s1?.roadmap?.high,s2?.roadmap?.high].filter(Boolean).join(' / '),
          college:[s1?.roadmap?.college,s2?.roadmap?.college].filter(Boolean).join(' / '),
          experience:[s1?.roadmap?.experience,s2?.roadmap?.experience].filter(Boolean).join(' / ')
        },
        skills:[...(s1?.skills||[]),(s2?.skills||[])].flat().slice(0,3),
        growth:Math.round(((singleTypeSuggest[top2[0]]?.growth||75)+(singleTypeSuggest[top2[1]]?.growth||75))/2)
      };
    }

    function pickImage(code, top2){
      // 1) 조합 이미지 → 2) 거꾸로 → 3) 1순위 유형 → 4) 2순위 유형 → 5) 없음
      return careerImages[code] || careerImages[code.split('').reverse().join('')]
          || careerImages[top2?.[0]] || careerImages[top2?.[1]] || '';
    }

    function renderResult(){
      const {scores, top2, code, flip}=calc();
      bar.style.width='100%';
      countText.textContent=`${questions.length} / ${questions.length}`;
      nextBtn.textContent='다시 시작';
      prevBtn.classList.add('hide');

      const career = careerPaths[code] || careerPaths[flip] || synthesizeCareer(top2);
      const showImageSrc = pickImage(careerPaths[code]||careerPaths[flip] ? (careerPaths[code]?code:flip) : code, top2);

      const scoreRows=Object.entries(scores)
        .filter(([t])=>t!=='T')
        .sort(([,a],[,b])=>b-a)
        .map(([t,sc])=>{
          const max=questions.filter(q=>q.type===t).length*5||1;
          const pct=Math.round((sc/max)*100);
          const color=typeInfo[t].color;
          return `<div class="score-row">
            <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:6px">
              <span class="pill" style="background:${color}">${typeInfo[t].name}</span>
              <strong>${sc}점</strong>
            </div>
            <div class="score-bar"><div class="score-fill" style="width:${pct}%;background:${color}"></div></div>
          </div>`;
        }).join('');

      app.innerHTML=`
        <div class="card">
          <h2 class="result-head">설문 결과</h2>
          <div class="result-sub">당신의 유형: <strong style="color:var(--pri)">${top2.join('')}</strong></div>

          <div class="hero ${showImageSrc ? 'withImage' : ''}">
            ${showImageSrc ? `<div class="center"><img src="${showImageSrc}" alt="추천 직군 캐릭터" onerror="this.style.display='none'"></div>` : ''}
            <div class="grid">
              <div class="recommend">
                <div style="font-weight:800;font-size:18px;margin-bottom:6px">추천 진로 · 성장 전망 ${career.growth}%</div>
                <div style="opacity:.85">${career.title}</div>
                ${showImageSrc ? `<div style="opacity:.7;margin-top:6px">이미지: <code>${showImageSrc}</code></div>`:''}
              </div>

              <div class="grid" style="grid-template-columns:repeat(2,1fr);gap:16px">
                <div class="score">
                  <div style="font-weight:800;margin-bottom:8px">관련 직업</div>
                  <ul class="list">${career.jobs.map(j=>`<li>${j}</li>`).join('')}</ul>
                </div>
                <div class="score">
                  <div style="font-weight:800;margin-bottom:8px">필요 역량</div>
                  <ul class="list">${career.skills.map(s=>`<li>${s}</li>`).join('')}</ul>
                </div>
              </div>
            </div>
          </div>

          <div class="fullwidth">
            <div class="card">
              <div style="font-weight:800;margin-bottom:8px">진로 로드맵</div>
              <ul class="list">
                <li><strong>고등학교:</strong> ${career.roadmap.high}</li>
                <li><strong>대학:</strong> ${career.roadmap.college}</li>
                <li><strong>경험 쌓기:</strong> ${career.roadmap.experience}</li>
              </ul>
            </div>

            <div class="card">
              <div style="font-weight:800;margin-bottom:8px">유형별 점수</div>
              ${scoreRows}
            </div>

            <div style="text-align:center">
              <button class="reset" id="resetBtn" type="button">🔄 검사 다시 시작</button>
            </div>
          </div>
        </div>`;

      document.getElementById('resetBtn').addEventListener('click', resetSurvey);
    }

    function resetSurvey(){ idx=0; answers.length=0; renderQuestion(); }

    prevBtn.addEventListener('click', ()=>{ if(idx>0){ idx--; answers.pop(); renderQuestion(); } });
    nextBtn.addEventListener('click', ()=>{
      if(nextBtn.textContent.includes('다시 시작')){ resetSurvey(); return; }
      if(idx<questions.length-1){ idx++; renderQuestion(); }
      else{ renderResult(); }
    });
    window.addEventListener('keydown', e=>{
      if(nextBtn.textContent.includes('다시 시작')) return;
      if(e.key==='ArrowLeft' && idx>0){ idx--; answers.pop(); renderQuestion(); }
      if(e.key==='ArrowRight'){ if(idx<questions.length-1){ idx++; renderQuestion(); } else { renderResult(); } }
    });

    renderQuestion();
  </script>
</body>
</html>
