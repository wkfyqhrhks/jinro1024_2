<!doctype html>
<html lang="ko">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>ì§„ë¡œ ê´€ì‹¬ì‚¬ ì„¤ë¬¸ (RIASEC)</title>
<meta name="color-scheme" content="light only" />
<style>
  :root{
    --grad1:#6d72ff; --grad2:#c055ff; --grad3:#ff4fa0;
    --ink:#111827; --muted:#6b7280; --ring:#7c3aed;
  }
  html,body{ height:100%; }
  body{
    margin:0; font-family: system-ui,-apple-system,Segoe UI,Roboto,'Noto Sans KR',sans-serif;
    background: linear-gradient(135deg,var(--grad1) 0%, var(--grad2) 50%, var(--grad3) 100%);
    -webkit-font-smoothing:antialiased;
  }
  .page{ padding: 28px 0 56px; }
  .container{
    max-width: 980px; width: 100%; margin: 0 auto; padding: 20px;
    background: #fff; border-radius: 24px; box-shadow: 0 20px 42px rgba(0,0,0,.08);
  }

  /* Intro */
  .intro-header{ display:flex; gap:16px; align-items:center; }
  .intro-title{ font-size: clamp(24px,3.6vw,38px); font-weight: 800; margin: 0; color: var(--ink); }
  .intro-sub{ color:var(--muted) }
  .intro-note{
    margin-top:16px; padding:16px; border-radius:16px;
    background: linear-gradient(180deg, #f7f3ff, #fdf2fb);
  }
  .intro-actions{ display:flex; justify-content:center; margin-top:22px; }
  .btn-start{
    display:block; padding:14px 24px; border-radius:9999px; border:0; cursor:pointer;
    background:linear-gradient(90deg,#7c3aed,#ec4899); color:#fff; font-weight:700;
    box-shadow: 0 12px 20px rgba(124,58,237,.18);
  }

  /* Survey */
  .q-head{ display:flex; justify-content:space-between; align-items:center; margin-bottom:12px; }
  .bar{ height:10px; background:#e5e7eb; border-radius:9999px; overflow:hidden; }
  .bar > i{ display:block; height:100%; width:0%; background:linear-gradient(90deg,#7c3aed,#ec4899); }
  .q-card{ background:#fff; border-radius: 20px; padding: 20px; box-shadow: 0 8px 24px rgba(0,0,0,.06); }
  .q-type{ display:inline-block; padding:6px 12px; border-radius:9999px; color:#fff; font-weight:800; font-size:12px; margin-bottom:8px }
  .q-emoji{ font-size:48px; margin: 10px 0; }
  .q-text{ font-size: clamp(18px,2.4vw,24px); font-weight:800; color:var(--ink); }
  .q-role{ color:var(--muted); font-style: italic; }
  .options{ display:grid; gap:10px; margin-top: 16px; }
  .opt{ padding:14px; border-radius:14px; background:#f3f4f6; border:0; text-align:left; font-weight:700; cursor:pointer; }
  .opt.is-selected{ color:#fff; background:linear-gradient(90deg,#10b981,#06b6d4); box-shadow: 0 8px 18px rgba(16,185,129,.22); }
  .navs{ display:flex; justify-content:space-between; margin-top: 16px; gap: 10px; }
  .btn{ padding:11px 16px; border-radius:9999px; border:0; font-weight:800; cursor:pointer; }
  .btn-next{ background:linear-gradient(90deg,#7c3aed,#ec4899); color:#fff; }
  .btn-prev{ background:#eef2ff; color:#3730a3; }
  .btn:disabled{ opacity:.5; cursor:not-allowed }

  /* Results */
  .result-head{ text-align:center; margin-bottom:12px }
  .result-title{ font-size: clamp(22px,3.2vw,32px); font-weight:900; margin:6px 0 2px; }
  .result-sub{ color:var(--muted) }
  .career-img{
    width:100%; max-width:520px; display:block; margin: 12px auto 0;
    border-radius:16px; box-shadow: 0 10px 24px rgba(0,0,0,.08); background:#fff;
  }
  .save-wrap{ text-align:center; margin-top:16px }
  .btn-save{ padding:12px 18px; border-radius:9999px; border:0; font-weight:800; cursor:pointer; background:#111827; color:#fff; }

  /* pills for type */
  .c-R{ background:#3b82f6 } .c-I{ background:#8b5cf6 } .c-A{ background:#ec4899 }
  .c-S{ background:#10b981 } .c-E{ background:#f59e0b } .c-C{ background:#14b8a6 }

  @media (max-width:480px){
    .container{ padding:16px; border-radius: 18px; }
    .btn-start{ width:100%; max-width: 360px; }
  }
</style>
</head>
<body>

<!-- INTRO -->
<section id="page-intro" class="page">
  <div class="container">
    <div class="intro-header">
      <div style="font-size:36px">âœ¨</div>
      <div>
        <h1 class="intro-title">ì§„ë¡œ ê´€ì‹¬ì‚¬ ì„¤ë¬¸ì¡°ì‚¬</h1>
        <div class="intro-sub">ë‹¹ì‹ ì˜ ë¯¸ë˜ë¥¼ ìœ„í•œ ì²« ê±¸ìŒ</div>
      </div>
    </div>

    <div class="intro-note">
      <strong>ğŸ“ ì„¤ë¬¸ ì•ˆë‚´</strong>
      <ul style="margin:10px 0 0 18px; color:#374151; line-height:1.6">
        <li>ì´ <b>36ê°œ</b> ë¬¸í•­ì— ë‹µë³€í•´ì£¼ì„¸ìš”.</li>
        <li>ê° ë¬¸í•­ì€ <b>1~5ì </b>ìœ¼ë¡œ í‰ê°€í•©ë‹ˆë‹¤.</li>
        <li>ì†”ì§í•œ ë‹µë³€ì´ ê°€ì¥ ì •í™•í•œ ê²°ê³¼ë¥¼ ë§Œë“­ë‹ˆë‹¤.</li>
      </ul>
    </div>

    <div class="intro-actions">
      <button id="startBtn" class="btn-start">ì„¤ë¬¸ ì‹œì‘í•˜ê¸° â†’</button>
    </div>
  </div>
</section>

<!-- SURVEY -->
<section id="page-survey" class="page" hidden>
  <div class="container">
    <div class="q-head">
      <div id="q-count" style="font-weight:800;color:#6d28d9">ë¬¸í•­ 1 / 36</div>
      <div style="color:#7c3aed;font-weight:800"><span id="q-progress">0</span>%</div>
    </div>
    <div class="bar" aria-hidden="true"><i id="barFill"></i></div>

    <div class="q-card" style="margin-top:14px">
      <span id="q-type" class="q-type c-R">ì‹¤ì¬í˜• (R)</span>
      <div class="q-emoji" id="q-emoji">âš™ï¸</div>
      <div class="q-text" id="q-text">ë¬¸í•­ í…ìŠ¤íŠ¸</div>
      <div class="q-role" id="q-role">ğŸ’¼ ìºë¦­í„°</div>

      <div class="options" id="q-options"></div>

      <div class="navs">
        <button id="btnPrev" class="btn btn-prev">â† ì´ì „</button>
        <button id="btnNext" class="btn btn-next">ë‹¤ìŒ â†’</button>
      </div>
      <div id="warn" style="display:none;margin-top:10px;color:#92400e;background:#fef3c7;border:1px solid #fde68a;border-radius:10px;padding:8px 10px">ëª¨ë“  ë¬¸í•­ì— ë‹µí•´ì£¼ì„¸ìš”.</div>
    </div>
  </div>
</section>

<!-- RESULTS -->
<section id="page-results" class="page" hidden>
  <div class="container" id="resultCard">
    <div class="result-head">
      <div style="font-size:28px">ğŸ†</div>
      <h2 class="result-title">ê²€ì‚¬ ì™„ë£Œ!</h2>
      <div class="result-sub">ë‹¹ì‹ ë§Œì˜ í¥ë¯¸ ì½”ë“œë¥¼ ë°œê²¬í–ˆì–´ìš”</div>
    </div>

    <!-- ì½”ë“œ ì´ë¯¸ì§€ -->
    <img id="careerImg" alt="ì¶”ì²œ ì§ì—…êµ° ì´ë¯¸ì§€" class="career-img" />

    <div style="margin-top:14px;display:grid;gap:10px">
      <div id="myTypes" style="display:flex;gap:8px;justify-content:center;flex-wrap:wrap"></div>

      <div id="careerTitle" style="font-size:20px;font-weight:800;text-align:center;margin-top:6px"></div>
      <div id="careerJobs" style="display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:10px"></div>

      <div style="display:grid;grid-template-columns:repeat(auto-fit,minmax(260px,1fr));gap:12px">
        <div style="background:#fff7ed;border-left:4px solid #f59e0b;border-radius:12px;padding:12px">
          <div style="font-weight:800;margin-bottom:6px">âš¡ í•µì‹¬ ì—­ëŸ‰</div>
          <ul id="careerSkills" style="margin:0 0 0 18px;padding:0"></ul>
        </div>
        <div style="background:#ecfdf5;border-left:4px solid #10b981;border-radius:12px;padding:12px">
          <div style="font-weight:800;margin-bottom:6px">ğŸ“ˆ 5ë…„ í›„ ì „ë§</div>
          <div id="careerGrowth" style="font-size:34px;font-weight:900;color:#059669">+0%</div>
          <div class="bar"><i id="growthBar" style="background:linear-gradient(90deg,#10b981,#34d399)"></i></div>
        </div>
      </div>

      <div style="background:#eff6ff;border-left:4px solid #3b82f6;border-radius:12px;padding:12px">
        <div style="font-weight:800;margin-bottom:6px">ğŸ—ºï¸ ì§„ë¡œ ë¡œë“œë§µ</div>
        <ol id="careerRoadmap" style="margin:0 0 0 18px;padding:0;line-height:1.7"></ol>
      </div>
    </div>
  </div>

  <div class="save-wrap">
    <button id="btnSave" class="btn-save">ê²°ê³¼ë¥¼ JPGë¡œ ì €ì¥</button>
    <button id="btnRestart" class="btn btn-prev" style="margin-left:8px">ì²˜ìŒìœ¼ë¡œ</button>
  </div>
</section>

<!-- html2canvas for JPG download -->
<script src="https://cdn.jsdelivr.net/npm/html2canvas@1.4.1/dist/html2canvas.min.js" integrity="sha256-UY3mF6p5P8m9eM0c3/6u6o4h0kGdPqk8B6Q7z8hEJpE=" crossorigin="anonymous"></script>

<script>
/* -------------------- ë°ì´í„° -------------------- */
const TYPE = {
  R:{name:'ì‹¤ì¬í˜•', pill:'c-R'}, I:{name:'íƒêµ¬í˜•', pill:'c-I'}, A:{name:'ì˜ˆìˆ í˜•', pill:'c-A'},
  S:{name:'ì‚¬íšŒí˜•', pill:'c-S'}, E:{name:'ì§„ì·¨í˜•', pill:'c-E'}, C:{name:'ê´€ìŠµí˜•', pill:'c-C'}
};

const questions = [
  // R
  { id:1,  type:'R', text:'3D í”„ë¦°í„°ë‚˜ ë¡œë´‡ê³¼ ê°™ì€ ê¸°ê³„ë¥¼ ì¡°ì‘í•˜ì—¬ ê²°ê³¼ë¬¼ì„ ë§Œë“œëŠ” í™œë™ì— í¥ë¯¸ë¥¼ ëŠë‚€ë‹¤.', emoji:'âš™ï¸', role:'ë¯¸ë˜ ì—”ì§€ë‹ˆì–´' },
  { id:2,  type:'R', text:'ì§ì ‘ ëª¸ì„ ì›€ì§ì—¬ ì•¼ì™¸ì—ì„œ ì‹ë¬¼ì„ ê¸°ë¥´ê±°ë‚˜ ë™ë¬¼ì„ ëŒë³´ëŠ” í™œë™ì„ ì¦ê¸´ë‹¤.', emoji:'ğŸŒ±', role:'ë°”ì´ì˜¤ ì „ë¬¸ê°€' },
  { id:3,  type:'R', text:'ë³µì¡í•˜ê²Œ ì–½íŒ ì „ì„ ì´ë‚˜ ê¸°ê³„ ì¥ì¹˜ì˜ ë¬¸ì œë¥¼ ì°¾ì•„ë‚´ê³  ìˆ˜ë¦¬í•˜ëŠ” ì¼ì— ëª°ë‘í•œë‹¤.', emoji:'ğŸ”§', role:'ìœ ì§€ë³´ìˆ˜ ê¸°ìˆ ì' },
  { id:4,  type:'R', text:'ì‹¤ì œ ê±´ì¶•ë¬¼ì´ë‚˜ ì¸í…Œë¦¬ì–´ ëª¨í˜•ì„ ì„¤ê³„í•˜ê³  ì œì‘í•˜ëŠ” ì‘ì—…ì´ ì¬ë¯¸ìˆë‹¤.', emoji:'ğŸ—ï¸', role:'ìŠ¤ë§ˆíŠ¸ ê±´ì„¤ê°€' },
  { id:5,  type:'R', text:'ë³´ì•ˆÂ·ì†Œë°©Â·ì‘ê¸‰êµ¬ì¡° ë“± ì‹ ì²´ í™œë™ì´ ìš”êµ¬ë˜ëŠ” ì¼ì— ë„ì „í•˜ê³  ì‹¶ë‹¤.', emoji:'ğŸš¨', role:'ì•ˆì „ ìš”ì›' },
  { id:6,  type:'R', text:'VR ì¥ë¹„ë¡œ ê¸°ê³„ ì‘ë™ ì‹œë®¬ë ˆì´ì…˜ì„ ê²½í—˜í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤.', emoji:'ğŸ¥½', role:'VR íŠ¸ë ˆì´ë„ˆ' },
  // I
  { id:7,  type:'I', text:'ë°ì´í„°ë‚˜ í†µê³„ì—ì„œ ê·œì¹™ì„ ì°¾ì•„ë‚´ëŠ” ì¼ì— í¥ë¯¸ê°€ ìˆë‹¤.', emoji:'ğŸ“Š', role:'ë¹…ë°ì´í„° ë¶„ì„ê°€' },
  { id:8,  type:'I', text:'ì‹¬ë¦¬Â·ë‡Œê³¼í•™ ë“± ë³µì¡í•œ ì›ë¦¬ë¥¼ ê¹Šì´ ì—°êµ¬í•˜ê³  ì‹¶ë‹¤.', emoji:'ğŸ§ ', role:'ì¸ì§€ ê³¼í•™ì' },
  { id:9,  type:'I', text:'ì‹¤í—˜ê³¼ ê°€ì„¤ ê²€ì¦ì„ í†µí•´ ì§€ì‹ì„ ë°œê²¬í•˜ëŠ” ê²ƒì´ ì¦ê²ë‹¤.', emoji:'ğŸ”¬', role:'ì—°êµ¬ì›' },
  { id:10, type:'I', text:'AI ì•Œê³ ë¦¬ì¦˜ì˜ ì˜¤ë¥˜ ì›ì¸ì„ ë…¼ë¦¬ì ìœ¼ë¡œ íŒŒí—¤ì¹˜ëŠ” ê²ƒì„ ì¢‹ì•„í•œë‹¤.', emoji:'ğŸ¤–', role:'AI ë””ë²„ê±°' },
  { id:11, type:'I', text:'ë¯¸ë˜ ì‚¬íšŒ ë³€í™”ë‚˜ ìš°ì£¼ ë“± ë¯¸ì§€ì˜ ì˜ì—­ì— ì§ˆë¬¸ì„ ë˜ì§„ë‹¤.', emoji:'ğŸ”­', role:'ë¯¸ë˜í•™ì' },
  { id:12, type:'I', text:'ë…¼ë¦¬ ê²Œì„ì´ë‚˜ ì¶”ë¦¬ë¡œ ì •ë³´ë¥¼ ì¡°í•©í•´ ê²°ë¡ ì„ ë„ì¶œí•˜ëŠ” í™œë™ì„ ì¢‹ì•„í•œë‹¤.', emoji:'ğŸ”', role:'ë…¼ë¦¬í•™ì' },
  // A
  { id:13, type:'A', text:'ê·¸ë¦¼Â·ìŒì•…Â·ê¸€ì“°ê¸° ë“±ìœ¼ë¡œ ìƒê°ê³¼ ê°ì •ì„ í‘œí˜„í•˜ê¸¸ ì¢‹ì•„í•œë‹¤.', emoji:'ğŸ¨', role:'ë©€í‹° ì•„í‹°ìŠ¤íŠ¸' },
  { id:14, type:'A', text:'ë””ì§€í„¸ ë“œë¡œì‰Â·ë¯¸ë””ì–´ ì•„íŠ¸ ë“± í…Œí¬ ì˜ˆìˆ ì— ê´€ì‹¬ì´ ë§ë‹¤.', emoji:'ğŸ’»', role:'ë¯¸ë””ì–´ ì•„í‹°ìŠ¤íŠ¸' },
  { id:15, type:'A', text:'ì˜ìƒ í¸ì§‘Â·ì›¹íˆ°Â·ê²Œì„ ìŠ¤í† ë¦¬ ë“± ë¬¸í™” ì½˜í…ì¸  ì œì‘ì„ í•˜ê³  ì‹¶ë‹¤.', emoji:'ğŸ¬', role:'ì½˜í…ì¸  í¬ë¦¬ì—ì´í„°' },
  { id:16, type:'A', text:'ê³µì—°Â·íŒ¨ì…˜Â·ê³µê°„ ë””ìì¸ ë“± ë¯¸ì  ì‘ì—…ì— ë§¤ë ¥ì„ ëŠë‚€ë‹¤.', emoji:'âœ¨', role:'ë””ìì´ë„ˆ' },
  { id:17, type:'A', text:'ììœ ë¡­ê³  ê°œì„± ìˆëŠ” ì‘ì—… í™˜ê²½ì„ ì„ í˜¸í•œë‹¤.', emoji:'ğŸ¦‹', role:'ììœ  ì˜í˜¼' },
  { id:18, type:'A', text:'ëŒ€ì¤‘ì— ê°ë™ì„ ì£¼ëŠ” ì°½ì‘ë¬¼ì„ ë§Œë“œëŠ” ê²ƒì´ ëª©í‘œë‹¤.', emoji:'ğŸ­', role:'ê°ì„± ì „ë‹¬ì' },
  // S
  { id:19, type:'S', text:'ë„ì›€ì´ í•„ìš”í•œ ì‚¬ëŒì„ ë•ê³  ë¬¸ì œ í•´ê²°í•  ë•Œ ë³´ëŒì„ ëŠë‚€ë‹¤.', emoji:'ğŸ¤', role:'ì‚¬íšŒ ë´‰ì‚¬ì' },
  { id:20, type:'S', text:'ì‚¬ëŒë“¤ì˜ ê³ ë¯¼ì„ ë“£ê³  ì •ì„œì  ì§€ì§€ë¥¼ í•´ì£¼ëŠ” ì—­í• ì´ í¸ì•ˆí•˜ë‹¤.', emoji:'ğŸ’¬', role:'ì‹¬ë¦¬ ìƒë‹´ê°€' },
  { id:21, type:'S', text:'ìƒˆ ì§€ì‹Â·ê¸°ìˆ ì„ ì¬ë¯¸ìˆê²Œ ê°€ë¥´ì¹˜ëŠ” ë°©ë²•ì„ ì—°êµ¬í•œë‹¤.', emoji:'ğŸ“š', role:'êµìœ¡ ì½”ì¹˜' },
  { id:22, type:'S', text:'ë³´ê±´Â·ì˜ë£Œì—ì„œ ê±´ê°•ê³¼ íšŒë³µì„ ë•ëŠ” ì¼ì„ í•˜ê³  ì‹¶ë‹¤.', emoji:'âš•ï¸', role:'í—¬ìŠ¤ì¼€ì–´ ì „ë¬¸ê°€' },
  { id:23, type:'S', text:'ë‹¤ì–‘í•œ ë¬¸í™”ê¶Œê³¼ í˜‘ë ¥í•˜ì—¬ ê³µë™ ëª©í‘œë¥¼ ë‹¬ì„±í•˜ëŠ” í™œë™ì´ ì¢‹ë‹¤.', emoji:'ğŸŒ', role:'ê¸€ë¡œë²Œ í˜‘ë ¥ê°€' },
  { id:24, type:'S', text:'ì˜¨ë¼ì¸ ì»¤ë®¤ë‹ˆí‹° ìš´ì˜Â·ê°ˆë“± ì¡°ì • ì—­í• ì„ ì¦ê¸´ë‹¤.', emoji:'ğŸ’»', role:'ì»¤ë®¤ë‹ˆí‹° ë§¤ë‹ˆì €' },
  // E
  { id:25, type:'E', text:'ìƒˆ ì‚¬ì—… ì•„ì´ë””ì–´ë¥¼ ê¸°íší•˜ê³  ì„¤ë“í•˜ëŠ” ì¼ì„ ì˜í•œë‹¤.', emoji:'ğŸ’¡', role:'ìŠ¤íƒ€íŠ¸ì—… CEO' },
  { id:26, type:'E', text:'íŒ€ ë¦¬ë”ë¡œ ë™ê¸°ë¥¼ ë¶€ì—¬í•˜ê³  ì´ë„ëŠ” ê²ƒì„ ì¢‹ì•„í•œë‹¤.', emoji:'ğŸ‘‘', role:'ì¹´ë¦¬ìŠ¤ë§ˆ ë¦¬ë”' },
  { id:27, type:'E', text:'ê¸ˆìœµÂ·íˆ¬ì ë“± ê²½ì œì  ê°€ì¹˜ë¥¼ ì°½ì¶œí•˜ëŠ” í™œë™ì— ê´€ì‹¬ì´ ë§ë‹¤.', emoji:'ğŸ’°', role:'í•€í…Œí¬ ì „ë¬¸ê°€' },
  { id:28, type:'E', text:'ë°œí‘œÂ·ì—°ì„¤ì— ìì‹ ê°ì´ ìˆìœ¼ë©° ì„¤ë“ë ¥ì„ ë†’ì´ë ¤ ë…¸ë ¥í•œë‹¤.', emoji:'ğŸ¤', role:'í˜‘ìƒê°€' },
  { id:29, type:'E', text:'ê¸€ë¡œë²Œ íŠ¸ë Œë“œë¥¼ ì½ê³  ìƒˆë¡œìš´ ë¹„ì¦ˆë‹ˆìŠ¤ ê¸°íšŒë¥¼ ì°¾ê³  ì‹¶ë‹¤.', emoji:'ğŸŒ', role:'êµ­ì œ ë¹„ì¦ˆë‹ˆìŠ¤ë§¨' },
  { id:30, type:'E', text:'ê°œì¸ ë¸Œëœë”©Â·SNSë¡œ ì˜í–¥ë ¥ì„ í‚¤ìš°ëŠ” í™œë™ì„ ì¦ê¸´ë‹¤.', emoji:'ğŸ“±', role:'ì¸í”Œë£¨ì–¸ì„œ' },
  // C
  { id:31, type:'C', text:'ì„œë¥˜Â·DBë¥¼ ë¶„ë¥˜/ê´€ë¦¬í•˜ëŠ” ì¼ì— ëŠ¥ìˆ™í•˜ë‹¤.', emoji:'ğŸ—‚ï¸', role:'ì •ë³´ ê´€ë¦¬ì' },
  { id:32, type:'C', text:'ê·œì¹™Â·ì ˆì°¨ì— ë”°ë¼ ì™„ë²½íˆ ì²˜ë¦¬í•  ë•Œ ì•ˆì •ê°ì„ ëŠë‚€ë‹¤.', emoji:'âœ…', role:'í–‰ì • ì „ë¬¸ê°€' },
  { id:33, type:'C', text:'ì˜ˆì‚°Â·ì¬ë¬´ ë“± ìˆ˜ì¹˜ë¥¼ ë‹¤ë£¨ëŠ” ì¼ì´ ì¢‹ë‹¤.', emoji:'ğŸ’µ', role:'íšŒê³„ì‚¬' },
  { id:34, type:'C', text:'ë³´ì•ˆÂ·ê°œì¸ì •ë³´ ë“± ì‹œìŠ¤í…œ ì•ˆì „ì„ ì§€í‚¤ëŠ” ì¼ì— ì±…ì„ê°ì„ ëŠë‚€ë‹¤.', emoji:'ğŸ”’', role:'ë³´ì•ˆ ì „ë¬¸ê°€' },
  { id:35, type:'C', text:'ë¬¸ì„œÂ·ë³´ê³ ì„œ ë“± ì •ë³´ë¥¼ ê¹”ë”í•˜ê²Œ ì •ë¦¬í•œë‹¤.', emoji:'ğŸ“‹', role:'ê¸°íš ë¹„ì„œ' },
  { id:36, type:'C', text:'ìë™í™” ë„êµ¬ë¡œ ì—…ë¬´ íš¨ìœ¨ì„ ë†’ì´ëŠ” ë°©ë²•ì„ ì°¾ëŠ”ë‹¤.', emoji:'âš¡', role:'ì—…ë¬´ íš¨ìœ¨í™” ì „ë¬¸ê°€' },
];

const careerPaths = {
  IA:{ title:'AI ê¸°ë°˜ ì½˜í…ì¸  í¬ë¦¬ì—ì´í„°',
      jobs:['ë°ì´í„° ì‹œê°í™” ë””ìì´ë„ˆ','UX ë¦¬ì„œì²˜','ë¯¸ë””ì–´ ì•„í‹°ìŠ¤íŠ¸','AI ì•„íŠ¸ ë””ë ‰í„°'],
      roadmap:{ high:'ë¯¸ìˆ , ì •ë³´, ë¯¸ë””ì–´ êµê³¼ ì„ íƒ', college:'ìœµí•©ë””ìì¸, ë°ì´í„°ì‚¬ì´ì–¸ìŠ¤, ë¯¸ë””ì–´ ì»¤ë®¤ë‹ˆì¼€ì´ì…˜ ì „ê³µ', experience:'UI/UX ê³µëª¨ì „, í¬íŠ¸í´ë¦¬ì˜¤, ë””ìì¸ì”½í‚¹' },
      skills:['ì°½ì˜ì  ë¬¸ì œí•´ê²°','ë°ì´í„° ë¦¬í„°ëŸ¬ì‹œ','ë””ìì¸ ì‚¬ê³ '], growth:85 },
  IE:{ title:'AI ìŠ¤íƒ€íŠ¸ì—… ì „ëµê°€',
      jobs:['AI ê¸°íšì','í…Œí¬ PM','ë¹„ì¦ˆë‹ˆìŠ¤ ì• ë„ë¦¬ìŠ¤íŠ¸','ë””ì§€í„¸ ì»¨ì„¤í„´íŠ¸'],
      roadmap:{ high:'ìˆ˜í•™, ì¸ê³µì§€ëŠ¥ ê¸°ì´ˆ, ê²½ì œ', college:'ê²½ì˜ì •ë³´, ì»´ê³µ, ì‚°ì—…ê³µí•™', experience:'ì°½ì—… ë™ì•„ë¦¬, BM í”„ë¡œì íŠ¸, í•´ì»¤í†¤' },
      skills:['ë…¼ë¦¬ì  ì‚¬ê³ ','ë¹„ì¦ˆë‹ˆìŠ¤ ê°ê°','ë°ì´í„° ë¶„ì„'], growth:92 },
  AE:{ title:'ë¸Œëœë“œ ë§ˆì¼€í„°/ì¸í”Œë£¨ì–¸ì„œ',
      jobs:['ë””ì§€í„¸ ë§ˆì¼€í„°','ë¸Œëœë“œ ë§¤ë‹ˆì €','ì½˜í…ì¸  ê¸°íšì','SNS ì „ëµê°€'],
      roadmap:{ high:'í™”ì‘, ì‹¬ë¦¬, ì‚¬íšŒë¬¸í™”', college:'ê´‘ê³ í™ë³´, ë¬¸í™”ì½˜í…ì¸ , ë§ˆì¼€íŒ…', experience:'SNS ìš´ì˜, ë§ˆì¼€íŒ… ì¸í„´, ë¸Œëœë”© í”„ë¡œì íŠ¸' },
      skills:['ì°½ì˜ì„±','ì»¤ë®¤ë‹ˆì¼€ì´ì…˜','íŠ¸ë Œë“œ ë¶„ì„'], growth:78 },
  SE:{ title:'ì†Œì…œ ì„íŒ©íŠ¸ ë¦¬ë”',
      jobs:['ì‚¬íšŒì ê¸°ì—…ê°€','CSR ë§¤ë‹ˆì €','ë¹„ì˜ë¦¬ ê¸°íšì','ì„íŒ©íŠ¸ íˆ¬ì'],
      roadmap:{ high:'ì‚¬íšŒë¬¸í™”, ìœ¤ë¦¬, ê²½ì œ', college:'ì‚¬íšŒë³µì§€, ê²½ì˜, êµ­ì œê°œë°œ', experience:'ë´‰ì‚¬ ë¦¬ë”©, ì‚¬íšŒí˜ì‹  ìº í”„, í¬ë¼ìš°ë“œí€ë”©' },
      skills:['ê³µê° ëŠ¥ë ¥','ë¦¬ë”ì‹­','ë¬¸ì œí•´ê²°ë ¥'], growth:73 },
  RI:{ title:'ì²¨ë‹¨ ê¸°ìˆ  ì—°êµ¬ì',
      jobs:['ë¡œë´‡ê³µí•™ì','IoT ê°œë°œì','ë°”ì´ì˜¤ ì—”ì§€ë‹ˆì–´','ìš°ì£¼í•­ê³µ ê¸°ìˆ ì'],
      roadmap:{ high:'ë¬¼ë¦¬, í™”í•™, ì •ë³´', college:'ê¸°ê³„, ì „ì, ìƒëª…ê³µí•™', experience:'ê³¼í•™ ë™ì•„ë¦¬, ë°œëª…, ì—°êµ¬ í”„ë¡œì íŠ¸' },
      skills:['ê¸°ìˆ ì  ì´í•´','ì‹¤í—˜ ì„¤ê³„','ë…¼ë¦¬ì  ì‚¬ê³ '], growth:88 },
  RS:{ title:'í—¬ìŠ¤ì¼€ì–´ ê¸°ìˆ  ì „ë¬¸ê°€',
      jobs:['ì˜ë£Œê¸°ê¸° ì—”ì§€ë‹ˆì–´','ì¬í™œ ì¹˜ë£Œì‚¬','ìŠ¤í¬ì¸  íŠ¸ë ˆì´ë„ˆ','ì‘ê¸‰êµ¬ì¡°ì‚¬'],
      roadmap:{ high:'ìƒëª…ê³¼í•™, ì²´ìœ¡, ë³´ê±´', college:'ì˜ê³µí•™, ë¬¼ë¦¬ì¹˜ë£Œ, ì‘ê¸‰êµ¬ì¡°', experience:'ì˜ë£Œ ë´‰ì‚¬, ì‘ê¸‰ì²˜ì¹˜ ìê²©, ì¬í™œ ì‹¤ìŠµ' },
      skills:['ì‹ ì²´ í™œë™ì„±','ê³µê° ëŠ¥ë ¥','ìœ„ê¸° ëŒ€ì‘'], growth:81 },
  IS:{ title:'ì¸ê°„ ì¤‘ì‹¬ ì—°êµ¬ì',
      jobs:['ì‹¬ë¦¬í•™ì','êµìœ¡ ì—°êµ¬ì›','ì¸ì§€ê³¼í•™ì','UX ë¦¬ì„œì²˜'],
      roadmap:{ high:'ì‹¬ë¦¬, ì‚¬íšŒë¬¸í™”, ìƒëª…ê³¼í•™', college:'ì‹¬ë¦¬, êµìœ¡, ì¸ì§€ê³¼í•™', experience:'ìƒë‹´ ë´‰ì‚¬, ì—°êµ¬ ë³´ì¡°, ì‚¬ìš©ì ì¡°ì‚¬' },
      skills:['ë¶„ì„ë ¥','ê³µê° ëŠ¥ë ¥','ì—°êµ¬ ì„¤ê³„'], growth:76 },
  IC:{ title:'ë°ì´í„° ì‚¬ì´ì–¸í‹°ìŠ¤íŠ¸',
      jobs:['ë¹…ë°ì´í„° ë¶„ì„ê°€','AI ì—”ì§€ë‹ˆì–´','ì •ë³´ë³´ì•ˆ ì—°êµ¬ì›','í€€íŠ¸ ì• ë„ë¦¬ìŠ¤íŠ¸'],
      roadmap:{ high:'ìˆ˜í•™, ì •ë³´, í†µê³„', college:'í†µê³„, ì»´ê³µ, ë°ì´í„°ì‚¬ì´ì–¸ìŠ¤', experience:'ë°ë¶„ ê³µëª¨ì „, ì½”ë”© ë¶€íŠ¸ìº í”„, ì˜¤í”ˆì†ŒìŠ¤' },
      skills:['ë°ì´í„° ë¶„ì„','í”„ë¡œê·¸ë˜ë°','ë…¼ë¦¬ì  ì‚¬ê³ '], growth:95 },
  AS:{ title:'íë§ ì½˜í…ì¸  í¬ë¦¬ì—ì´í„°',
      jobs:['ìŒì•… ì¹˜ë£Œì‚¬','ì˜ˆìˆ  ì¹˜ë£Œì‚¬','ë¬¸í™”ê¸°íšì','ì»¤ë®¤ë‹ˆí‹° ì•„í‹°ìŠ¤íŠ¸'],
      roadmap:{ high:'ìŒì•…, ë¯¸ìˆ , ì‹¬ë¦¬', college:'ì˜ˆìˆ ì¹˜ë£Œ, ë¬¸í™”ì˜ˆìˆ êµìœ¡, ìƒë‹´ì‹¬ë¦¬', experience:'ì˜ˆìˆ  ë´‰ì‚¬, í”„ë¡œê·¸ë¨ ë³´ì¡°, ì»¤ë®¤ë‹ˆí‹° í”„ë¡œì íŠ¸' },
      skills:['ì°½ì˜ì„±','ê³µê° ëŠ¥ë ¥','ê°ì„± í‘œí˜„'], growth:71 },
  AC:{ title:'ë””ì§€í„¸ ì•„ì¹´ì´ë¸Œ ì „ë¬¸ê°€',
      jobs:['íë ˆì´í„°','ë””ì§€í„¸ ì•„í‚¤ë¹„ìŠ¤íŠ¸','ì½˜í…ì¸  ë§¤ë‹ˆì €','ë°•ë¬¼ê´€ ì „ë¬¸ê°€'],
      roadmap:{ high:'ë¯¸ìˆ , ì—­ì‚¬, ì •ë³´', college:'ë¬¸í—Œì •ë³´, ë°•ë¬¼ê´€í•™, ë¬¸í™”ì¬í•™', experience:'ì „ì‹œ ê¸°íš, ì•„ì¹´ì´ë¹™, ë¬¸í™”ì¬ ë‹µì‚¬' },
      skills:['ì°½ì˜ì„±','ì²´ê³„ì  ì‚¬ê³ ','ë””ì§€í„¸ ë¦¬í„°ëŸ¬ì‹œ'], growth:68 },
  SC:{ title:'í–‰ì • ì„œë¹„ìŠ¤ ì „ë¬¸ê°€',
      jobs:['ê³µë¬´ì›','ì¸ì‚¬ ë‹´ë‹¹ì','í–‰ì •ì‚¬','ë¹„ì„œ'],
      roadmap:{ high:'ì‚¬íšŒë¬¸í™”, ì •ì¹˜ì™€ ë²•, ê²½ì œ', college:'í–‰ì •, ê²½ì˜, ë²•í•™', experience:'í•™ìƒíšŒ, í–‰ì • ì¸í„´, ê³µëª¨ì „' },
      skills:['ì¡°ì§ë ¥','ê³µê° ëŠ¥ë ¥','ì—…ë¬´ ì²˜ë¦¬'], growth:65 },
  EC:{ title:'ê¸ˆìœµ ì „ëµê°€',
      jobs:['ì¬ë¬´ ë¶„ì„ê°€','íˆ¬ì ìƒë‹´ì‚¬','íšŒê³„ì‚¬','ì„¸ë¬´ì‚¬'],
      roadmap:{ high:'ê²½ì œ, ìˆ˜í•™, ì •ë³´', college:'ê²½ì˜, íšŒê³„, ê¸ˆìœµ', experience:'ëª¨ì˜ íˆ¬ì, ìê²©ì¦, ê¸ˆìœµ ì¸í„´' },
      skills:['ë¦¬ë”ì‹­','ìˆ˜ë¦¬ ëŠ¥ë ¥','ì¬ë¬´ ë¶„ì„'], growth:82 },
  RA:{ title:'ë©”ì´ì»¤ í¬ë¦¬ì—ì´í„°',
      jobs:['ì œí’ˆ ë””ìì´ë„ˆ','3D ëª¨ë¸ëŸ¬','ê±´ì¶•ê°€','ì¸í…Œë¦¬ì–´ ë””ìì´ë„ˆ'],
      roadmap:{ high:'ë¯¸ìˆ , ê¸°ìˆ ê°€ì •, ë¬¼ë¦¬', college:'ì‚°ì—…ë””ìì¸, ê±´ì¶•, ì‹¤ë‚´ë””ìì¸', experience:'ë©”ì´ì»¤ ë™ì•„ë¦¬, ë””ìì¸ ê³µëª¨ì „, 3D í”„ë¦°íŒ…' },
      skills:['ê¸°ìˆ ì  ëŠ¥ë ¥','ì°½ì˜ì„±','ê³µê°„ ê°ê°'], growth:79 },
  RC:{ title:'ìŠ¤ë§ˆíŠ¸ ì‹œìŠ¤í…œ ìš´ì˜ì',
      jobs:['ì„¤ë¹„ ê´€ë¦¬ì','í’ˆì§ˆ ê´€ë¦¬ì','ìƒì‚° ê´€ë¦¬ì','ì‹œìŠ¤í…œ ì—”ì§€ë‹ˆì–´'],
      roadmap:{ high:'ê¸°ìˆ ê°€ì •, ì •ë³´, ìˆ˜í•™', college:'ì‚°ì—…ê³µí•™, ê¸°ê³„, ì „ê¸°', experience:'í˜„ì¥ ì‹¤ìŠµ, ìê²©ì¦, ìë™í™” í”„ë¡œì íŠ¸' },
      skills:['ê¸°ìˆ ì  ëŠ¥ë ¥','ì²´ê³„ì  ì‚¬ê³ ','í’ˆì§ˆ ê´€ë¦¬'], growth:74 },
  RE:{ title:'í˜„ì¥ ë¦¬ë”',
      jobs:['ê±´ì„¤ í˜„ì¥ ê°ë…','ë¬¼ë¥˜ ê´€ë¦¬ì','ì•ˆì „ ê´€ë¦¬ì','ìŠ¤í¬ì¸  ì—ì´ì „íŠ¸'],
      roadmap:{ high:'ì²´ìœ¡, ê¸°ìˆ ê°€ì •, ê²½ì˜', college:'ê±´ì„¤ê³µí•™, ë¬¼ë¥˜í•™, ì•ˆì „ê³µí•™', experience:'í˜„ì¥ ì‹¤ìŠµ, ì•ˆì „ êµìœ¡, í”„ë¡œì íŠ¸ ê´€ë¦¬' },
      skills:['ì‹ ì²´ í™œë™ì„±','ë¦¬ë”ì‹­','ìœ„ê¸° ê´€ë¦¬'], growth:72 },
};

const knownCodes = Object.keys(careerPaths);

/* -------------------- ìƒíƒœ -------------------- */
const answers = {};
let idx = 0;

/* -------------------- ìœ í‹¸ -------------------- */
const $ = s => document.querySelector(s);

function showPage(which){
  $('#page-intro').hidden   = (which!=='intro');
  $('#page-survey').hidden  = (which!=='survey');
  $('#page-results').hidden = (which!=='results');
  window.scrollTo({top:0, behavior:'instant'});
}

function renderQuestion(){
  const q = questions[idx];
  $('#q-count').textContent = `ë¬¸í•­ ${idx+1} / ${questions.length}`;
  const pct = Math.round(((idx+1)/questions.length)*100);
  $('#q-progress').textContent = pct;
  $('#barFill').style.width = pct + '%';

  $('#q-type').className = `q-type ${TYPE[q.type].pill}`;
  $('#q-type').textContent = `${TYPE[q.type].name} (${q.type})`;
  $('#q-emoji').textContent = q.emoji;
  $('#q-text').textContent  = q.text;
  $('#q-role').textContent  = 'ğŸ’¼ ' + q.role;

  const opts = [
    {v:5, label:'ë§¤ìš° ê·¸ë ‡ë‹¤'},
    {v:4, label:'ê·¸ë ‡ë‹¤'},
    {v:3, label:'ë³´í†µì´ë‹¤'},
    {v:2, label:'ê·¸ë ‡ì§€ ì•Šë‹¤'},
    {v:1, label:'ì „í˜€ ê·¸ë ‡ì§€ ì•Šë‹¤'},
  ];
  const wrap = $('#q-options'); wrap.innerHTML='';
  opts.forEach(o=>{
    const b = document.createElement('button');
    b.className = 'opt' + (answers[q.id]===o.v? ' is-selected':'');
    b.textContent = `${o.label} (${o.v})`;
    b.onclick = ()=>{ answers[q.id]=o.v; renderQuestion(); };
    wrap.appendChild(b);
  });

  $('#btnPrev').disabled = (idx===0);
  $('#btnNext').textContent = (idx===questions.length-1) ? 'ê²°ê³¼ ë³´ê¸° âœ¨' : 'ë‹¤ìŒ â†’';
}

function calcResults(){
  const scores = {R:0,I:0,A:0,S:0,E:0,C:0};
  questions.forEach(q=>{ if(answers[q.id]) scores[q.type]+=answers[q.id]; });
  const sorted = Object.entries(scores).sort((a,b)=>b[1]-a[1])
                  .map(([type,score])=>({type,score,percentage:(score/30)*100}));
  const top = sorted.slice(0,3);
  let code = top[0].type + top[1].type;
  if(!knownCodes.includes(code)){
    const rev = code.split('').reverse().join('');
    code = knownCodes.includes(rev) ? rev : 'IA';
  }
  return {sorted, top, code};
}

function bindResults(res){
  // ì½”ë“œ ë±ƒì§€
  const badgeWrap = $('#myTypes'); badgeWrap.innerHTML='';
  res.top.forEach((t,i)=>{
    const el = document.createElement('div');
    el.style.cssText='display:flex;align-items:center;gap:6px;background:#f3f4f6;border-radius:9999px;padding:6px 10px';
    el.innerHTML = `<span class="${TYPE[t.type].pill}" style="display:inline-block;color:#fff;font-weight:900;padding:4px 10px;border-radius:9999px">${t.type}</span>
                    <b>${TYPE[t.type].name}</b>
                    <span style="color:#6b7280">${Math.round(t.percentage)}%</span>`;
    badgeWrap.appendChild(el);
  });

  // ì´ë¯¸ì§€
  setCareerImage(res.code);

  // ë³¸ë¬¸
  const career = careerPaths[res.code];
  $('#careerTitle').textContent = `ì¶”ì²œ ì§„ë¡œ: ${career.title}`;

  // ì§ì—…êµ°
  const jobsWrap = $('#careerJobs'); jobsWrap.innerHTML='';
  career.jobs.forEach(j=>{
    const d=document.createElement('div');
    d.style.cssText='background:#fff;border:1px solid #eef2ff;border-radius:12px;padding:10px';
    d.textContent = 'â€¢ ' + j;
    jobsWrap.appendChild(d);
  });

  // ìŠ¤í‚¬
  const sWrap = $('#careerSkills'); sWrap.innerHTML='';
  career.skills.forEach(s=>{
    const li=document.createElement('li'); li.textContent=s; sWrap.appendChild(li);
  });

  // ì„±ì¥
  $('#careerGrowth').textContent = `+${career.growth}%`;
  $('#growthBar').style.width = career.growth + '%';

  // ë¡œë“œë§µ
  const rm = $('#careerRoadmap'); rm.innerHTML='';
  const order = [career.roadmap.high, career.roadmap.college, career.roadmap.experience];
  ['ê³ ë“±í•™êµ ë‹¨ê³„','ëŒ€í•™ ë‹¨ê³„','ê²½í—˜ ë° í™œë™'].forEach((ttl,i)=>{
    const li=document.createElement('li');
    li.innerHTML = `<b>${i+1}. ${ttl}</b> â€” ${order[i]}`;
    rm.appendChild(li);
  });
}

function setCareerImage(code){
  const img = $('#careerImg');
  img.src = `./assets/${code}.png?v=${Date.now()}`; // ìºì‹œìš°íšŒ
  img.onerror = ()=>{ img.src = `./assets/IA.png?v=${Date.now()}`; };
}

/* -------------------- ì´ë²¤íŠ¸ -------------------- */
$('#startBtn').addEventListener('click', ()=> showPage('survey'));

$('#btnPrev').addEventListener('click', ()=>{
  if(idx>0){ idx--; renderQuestion(); }
});

$('#btnNext').addEventListener('click', ()=>{
  // ë§ˆì§€ë§‰ì´ë©´ ê²°ê³¼
  if(idx === questions.length-1){
    const answered = Object.keys(answers).length;
    if(answered < questions.length){
      $('#warn').style.display='block';
      return;
    }
    const res = calcResults();
    bindResults(res);
    showPage('results');
  }else{
    // ë‹¤ìŒ
    const q = questions[idx];
    if(!answers[q.id]){ $('#warn').style.display='block'; return; }
    $('#warn').style.display='none';
    idx++; renderQuestion();
  }
});

$('#btnRestart').addEventListener('click', ()=>{
  // reset
  Object.keys(answers).forEach(k=>delete answers[k]);
  idx=0; renderQuestion(); showPage('intro');
});

/* JPG ì €ì¥ */
$('#btnSave').addEventListener('click', async ()=>{
  const node = document.getElementById('resultCard');
  // í° ë°°ê²½ìœ¼ë¡œ ìº”ë²„ìŠ¤ì— ê·¸ë¦¬ê¸°(ëª¨ë°”ì¼ ê²€ì€ ë°°ê²½ ë°©ì§€)
  const canvas = await html2canvas(node, {scale:2, backgroundColor:'#ffffff', useCORS:true});
  const data = canvas.toDataURL('image/jpeg', 0.95);
  const a = document.createElement('a');
  a.href = data;
  a.download = 'riasec-result.jpg';
  document.body.appendChild(a);
  a.click();
  a.remove();
});

/* ì´ˆê¸° ë Œë” */
renderQuestion();
showPage('intro');
</script>
</body>
</html>
