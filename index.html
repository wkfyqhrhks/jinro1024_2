<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <title>진로 관심사 설문조사</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <meta name="theme-color" content="#7c3aed" />
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://unpkg.com/react@18/umd/react.development.js" crossorigin></script>
  <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js" crossorigin></script>
  <script src="https://unpkg.com/@babel/standalone@7.26.2/babel.min.js"></script>
  <style>
    :root{ --safe-top: env(safe-area-inset-top); --safe-bottom: env(safe-area-inset-bottom); }
    body{
      padding-top:max(0px,var(--safe-top)); padding-bottom:max(0px,var(--safe-bottom));
      background: linear-gradient(135deg,#5b6ee1 0%, #a855f7 40%, #ec4899 100%);
      min-height: 100svh;
    }
    .page-wrap{ max-width:720px; }
    .export-surface{ background:#fff; }
    img.asset{ object-fit:cover; }
  </style>
</head>
<body class="font-sans text-gray-900 antialiased">
  <div id="app" class="px-4 sm:px-6 md:px-8 py-6 sm:py-10"></div>

  <script type="text/babel" data-presets="env,react">
    const { useState } = React;

    /* ---------- helpers ---------- */
    const assetUrl = (p) => `./assets/${p}`; // 서브경로에서도 안전
    const loadAllImagesIn = async (root) => {
      const imgs = Array.from(root.querySelectorAll('img'));
      const waiters = imgs.filter(img => !img.complete).map(img => new Promise(res => {
        img.onload = img.onerror = () => res();
      }));
      await Promise.all(waiters);
    };

    /* ---------- data ---------- */
    const typeInfo = {
      R:{ name:'실재형', color:'bg-blue-500' },
      I:{ name:'탐구형', color:'bg-purple-500' },
      A:{ name:'예술형', color:'bg-pink-500' },
      S:{ name:'사회형', color:'bg-green-500' },
      E:{ name:'진취형', color:'bg-orange-500' },
      C:{ name:'관습형', color:'bg-teal-500' },
    };

    const questions = [
      { id:1,type:'R',text:'3D 프린터나 로봇과 같은 기계를 조작하여 결과물을 만드는 활동에 흥미를 느낀다.',emoji:'⚙️',character:'미래 엔지니어' },
      { id:2,type:'R',text:'직접 몸을 움직여 야외에서 식물을 기르거나 동물을 돌보는 활동을 즐긴다.',emoji:'🌱',character:'바이오 전문가' },
      { id:3,type:'R',text:'복잡하게 얽힌 전선이나 기계 장치의 문제를 찾아내고 수리하는 일에 몰두한다.',emoji:'🔧',character:'유지보수 기술자' },
      { id:4,type:'R',text:'실제 건축물이나 인테리어 모형을 설계하고 제작하는 작업이 재미있다.',emoji:'🏗️',character:'스마트 건설가' },
      { id:5,type:'R',text:'보안·소방·응급구조 등 신체 활동이 요구되는 일을 하고 싶다.',emoji:'🚨',character:'안전 요원' },
      { id:6,type:'R',text:'VR 장비로 기계 작동 시뮬레이션을 경험하는 것이 좋다.',emoji:'🥽',character:'VR 트레이너' },
      { id:7,type:'I',text:'데이터/통계를 분석해 숨겨진 규칙을 찾는 것에 흥미가 있다.',emoji:'📊',character:'빅데이터 분석가' },
      { id:8,type:'I',text:'심리·뇌과학 등 복잡한 원리를 깊이 연구하고 싶다.',emoji:'🧠',character:'인지 과학자' },
      { id:9,type:'I',text:'과학 실험과 가설 검증을 통해 지식을 발견하는 것이 즐겁다.',emoji:'🔬',character:'연구원' },
      { id:10,type:'I',text:'AI 오류 원인을 논리적으로 파헤치고 해결하는 과정을 좋아한다.',emoji:'🤖',character:'AI 디버거' },
      { id:11,type:'I',text:'미래 변화/우주 신비 등 미지의 영역에 질문을 던진다.',emoji:'🔭',character:'미래학자' },
      { id:12,type:'I',text:'논리 게임/추리로 정보를 조합하고 결론을 내린다.',emoji:'🔍',character:'논리학자' },
      { id:13,type:'A',text:'그림·음악·글쓰기 등 창의적으로 표현하는 것을 좋아한다.',emoji:'🎨',character:'멀티 아티스트' },
      { id:14,type:'A',text:'디지털 드로잉/미디어아트 등 기술을 활용한 예술에 관심이 많다.',emoji:'💻',character:'미디어 아티스트' },
      { id:15,type:'A',text:'영상 편집, 웹툰, 게임 스토리 등 문화 콘텐츠 제작을 하고 싶다.',emoji:'🎬',character:'콘텐츠 크리에이터' },
      { id:16,type:'A',text:'공연·패션·공간 디자인에 매력을 느낀다.',emoji:'✨',character:'디자이너' },
      { id:17,type:'A',text:'정해진 규칙 없이 자유로운 작업 환경을 선호한다.',emoji:'🦋',character:'자유 영혼' },
      { id:18,type:'A',text:'대중에게 감동을 주는 창작물이 목표다.',emoji:'🎭',character:'감성 전달자' },
      { id:19,type:'S',text:'도움을 필요로 하는 사람들을 돕는 일에 보람을 느낀다.',emoji:'🤝',character:'사회 봉사자' },
      { id:20,type:'S',text:'주변의 고민을 듣고 정서적 지지를 해주는 역할이 편안하다.',emoji:'💬',character:'심리 상담가' },
      { id:21,type:'S',text:'지식/기술을 효과적으로 가르치는 방법을 연구한다.',emoji:'📚',character:'교육 코치' },
      { id:22,type:'S',text:'의료/보건 분야에서 건강과 회복을 돕고 싶다.',emoji:'⚕️',character:'헬스케어 전문가' },
      { id:23,type:'S',text:'다양한 문화와 협력해 공동 목표를 달성하는 것을 좋아한다.',emoji:'🌍',character:'글로벌 협력가' },
      { id:24,type:'S',text:'온라인 커뮤니티 운영과 갈등 조정을 즐긴다.',emoji:'💻',character:'커뮤니티 매니저' },
      { id:25,type:'E',text:'새로운 사업/제품을 기획하고 설득해 판매하는 일을 잘한다.',emoji:'💡',character:'스타트업 CEO' },
      { id:26,type:'E',text:'팀 리더로 동기를 부여하고 이끄는 것을 좋아한다.',emoji:'👑',character:'카리스마 리더' },
      { id:27,type:'E',text:'투자/재테크 등 경제 활동에 관심이 많다.',emoji:'💰',character:'핀테크 전문가' },
      { id:28,type:'E',text:'발표/연설에 자신 있고 설득력을 높이는 법을 고민한다.',emoji:'🎤',character:'협상가' },
      { id:29,type:'E',text:'글로벌 트렌드를 파악하고 비즈니스 기회를 찾고 싶다.',emoji:'🌐',character:'국제 비즈니스맨' },
      { id:30,type:'E',text:'개인 브랜딩/소셜미디어로 영향력을 키우는 활동을 즐긴다.',emoji:'📱',character:'인플루언서' },
      { id:31,type:'C',text:'서류/DB를 체계적으로 분류·관리하는 일에 능숙하다.',emoji:'🗂️',character:'정보 관리자' },
      { id:32,type:'C',text:'정해진 절차대로 완벽히 처리할 때 만족감을 느낀다.',emoji:'✅',character:'행정 전문가' },
      { id:33,type:'C',text:'재무/예산 등 숫자를 다루는 일을 좋아한다.',emoji:'💵',character:'회계사' },
      { id:34,type:'C',text:'정보보안·개인정보 보호 등 안전성 확보에 책임감을 느낀다.',emoji:'🔒',character:'보안 전문가' },
      { id:35,type:'C',text:'문서 작성과 포맷팅을 깔끔하게 정리한다.',emoji:'📋',character:'기획 비서' },
      { id:36,type:'C',text:'자동화 도구로 업무 효율을 높이는 방법을 찾는다.',emoji:'⚡',character:'업무 효율화 전문가' },
    ];

    const careerPaths = {
      IA:{title:'AI 기반 콘텐츠 크리에이터',jobs:['데이터 시각화 디자이너','UX 리서처','미디어 아티스트','AI 아트 디렉터'],roadmap:{high:'미술, 정보, 미디어 교과 선택',college:'융합디자인, 데이터사이언스, 미디어 커뮤니케이션',experience:'UI/UX 공모전, 포트폴리오, 디자인 씽킹'},skills:['창의적 문제해결','데이터 리터러시','디자인 사고'],growth:85},
      IE:{title:'AI 스타트업 전략가',jobs:['AI 기획자','테크 PM','비즈니스 애널리스트','디지털 컨설턴트'],roadmap:{high:'수학, AI 기초, 경제',college:'경영정보, 컴공, 산업공학',experience:'창업 동아리, BM 프로젝트, 해커톤'},skills:['논리적 사고','비즈니스 감각','데이터 분석'],growth:92},
      AE:{title:'브랜드 마케터/인플루언서',jobs:['디지털 마케터','브랜드 매니저','콘텐츠 기획자','SNS 전략가'],roadmap:{high:'화작, 심리, 사회문화',college:'광고홍보, 문화콘텐츠, 마케팅',experience:'SNS 운영, 마케팅 인턴, 브랜딩 프로젝트'},skills:['창의성','커뮤니케이션','트렌드 분석'],growth:78},
      SE:{title:'소셜 임팩트 리더',jobs:['사회적기업가','CSR 매니저','비영리 기획자','임팩트 투자'],roadmap:{high:'사회문화, 윤리, 경제',college:'사회복지, 경영, 국제개발',experience:'봉사 리딩, 사회혁신 캠프, 크라우드펀딩'},skills:['공감','리더십','문제해결'],growth:73},
      RI:{title:'첨단 기술 연구자',jobs:['로봇공학자','IoT 개발자','바이오 엔지니어','우주항공 기술자'],roadmap:{high:'물리, 화학, 정보',college:'기계/전자/생명공학',experience:'과학동아리, 발명, 연구 프로젝트'},skills:['기술 이해','실험 설계','논리적 사고'],growth:88},
      RS:{title:'헬스케어 기술 전문가',jobs:['의료기기 엔지니어','재활 치료사','스포츠 트레이너','응급구조사'],roadmap:{high:'생명과학, 체육, 보건',college:'의공학, 물리치료, 응급구조',experience:'의료 봉사, 응급처치 자격증, 실습'},skills:['신체 활동성','공감','위기 대응'],growth:81},
      IS:{title:'인간 중심 연구자',jobs:['심리학자','교육 연구원','인지과학자','UX 리서처'],roadmap:{high:'심리, 사회문화, 생명과학',college:'심리/교육/인지과학',experience:'상담 봉사, 연구 보조, 사용자 조사'},skills:['분석력','공감','연구 설계'],growth:76},
      IC:{title:'데이터 사이언티스트',jobs:['빅데이터 분석가','AI 엔지니어','정보보안 연구원','퀀트'],roadmap:{high:'수학, 정보, 통계',college:'통계, 컴공, 데이터사이언스',experience:'데분 공모전, 코딩 부트캠프, 오픈소스'},skills:['데이터 분석','프로그래밍','논리적 사고'],growth:95},
      AS:{title:'힐링 콘텐츠 크리에이터',jobs:['음악/예술 치료사','문화기획자','커뮤니티 아티스트'],roadmap:{high:'음악, 미술, 심리',college:'예술치료, 문화예술교육, 상담',experience:'예술 봉사, 치료 프로그램 보조'},skills:['창의성','공감','감성 표현'],growth:71},
      AC:{title:'디지털 아카이브 전문가',jobs:['큐레이터','디지털 아키비스트','콘텐츠 매니저','박물관 전문가'],roadmap:{high:'미술, 역사, 정보',college:'문헌정보/박물관학/문화재학',experience:'전시 기획, 아카이빙 프로젝트'},skills:['창의성','체계적 사고','디지털 리터러시'],growth:68},
      SC:{title:'행정 서비스 전문가',jobs:['공무원','인사 담당','행정사','비서'],roadmap:{high:'사회문화, 정법, 경제',college:'행정/경영/법',experience:'학생회, 행정 인턴, 공모전'},skills:['조직력','공감','업무 처리'],growth:65},
      EC:{title:'금융 전략가',jobs:['재무 분석가','투자 상담','회계사','세무사'],roadmap:{high:'경제, 수학, 정보',college:'경영/회계/금융',experience:'모의투자, 자격증, 인턴'},skills:['리더십','수리 능력','재무 분석'],growth:82},
      RA:{title:'메이커 크리에이터',jobs:['제품 디자이너','3D 모델러','건축가','인테리어 디자이너'],roadmap:{high:'미술, 기술가정, 물리',college:'산업디자인/건축/실내디자인',experience:'메이커 동아리, 디자인 공모전'},skills:['기술','창의성','공간 감각'],growth:79},
      RC:{title:'스마트 시스템 운영자',jobs:['설비/품질/생산 관리자','시스템 엔지니어'],roadmap:{high:'기술가정, 정보, 수학',college:'산업/기계/전기공학',experience:'현장 실습, 자동화 프로젝트'},skills:['기술','체계적 사고','품질 관리'],growth:74},
      RE:{title:'현장 리더',jobs:['건설 감독','물류 관리자','안전 관리자','스포츠 에이전트'],roadmap:{high:'체육, 기술가정, 경영',college:'건설/물류/안전공학',experience:'현장 실습, 안전 교육, PM'},skills:['신체 활동','리더십','위기 관리'],growth:72},
    };

    /* ---------- app ---------- */
    function App(){
      const [page, setPage] = React.useState('intro');
      const [idx, setIdx] = React.useState(0);
      const [answers, setAnswers] = React.useState({});
      const [results, setResults] = React.useState(null);

      const goSurvey = () => { setPage('survey'); setIdx(0); window.scrollTo({top:0,behavior:'smooth'}); };
      const goIntro  = () => { setPage('intro'); setIdx(0); setAnswers({}); setResults(null); window.scrollTo({top:0}); };

      const handleAnswer = (qid, value) => setAnswers(prev => ({...prev, [qid]: value}));

      const calcResults = () => {
        const scores = {R:0,I:0,A:0,S:0,E:0,C:0};
        questions.forEach(q => { if(answers[q.id]) scores[q.type]+=answers[q.id]; });
        const sorted = Object.entries(scores)
          .sort((a,b)=>b[1]-a[1])
          .map(([type,score])=>({type,score,percentage:(score/30)*100}));
        const top = sorted.slice(0,3);
        const code = top[0].type + top[1].type;
        let career = careerPaths[code] || careerPaths[code.split('').reverse().join('')];
        if(!career){
          const fallback = ['IA','IE','RI','IS','IC','AE','SE'].find(c => c.includes(top[0].type));
          career = careerPaths[fallback||'IA'];
        }
        setResults({topTypes:top, allScores:sorted, code, career});
        setPage('results');
        window.scrollTo({top:0,behavior:'smooth'});
      };

      const Card = ({children}) => (
        <div className="page-wrap mx-auto">
          <div className="export-surface rounded-3xl shadow-2xl p-6 sm:p-8 md:p-10">
            {children}
          </div>
        </div>
      );

      const Intro = () => (
        <Card>
          <div className="flex items-center gap-4 mb-6">
            <div className="w-14 h-14 rounded-2xl bg-violet-100 text-violet-500 flex items-center justify-center text-3xl">✨</div>
            <div>
              <h1 className="text-3xl sm:text-4xl font-extrabold tracking-tight">진로 관심사 설문조사</h1>
              <p className="text-gray-600 mt-1">당신의 미래를 위한 첫 걸음</p>
            </div>
          </div>

          <div className="rounded-2xl bg-gradient-to-b from-violet-50 to-pink-50 p-5 sm:p-6 mb-6">
            <h2 className="font-bold text-lg mb-3">📋 설문 안내</h2>
            <ul className="text-gray-700 space-y-2 text-[15px]">
              <li>• 총 <b>36개</b> 문항에 답변해주세요.</li>
              <li>• 각 문항은 <b>1~5점</b>으로 평가합니다.</li>
              <li>• 솔직한 답변이 가장 정확한 결과를 만듭니다.</li>
            </ul>
          </div>

          <button
            onClick={goSurvey}
            className="w-full sm:w-auto px-6 sm:px-8 py-3 rounded-full font-bold text-white bg-gradient-to-r from-fuchsia-600 to-violet-600 hover:opacity-95 active:scale-[.99] transition"
            aria-label="설문 시작하기"
          >
            설문 시작하기 →
          </button>
        </Card>
      );

      const q = questions[idx];
      const progress = Math.round(((idx+1)/questions.length)*100);
      const answered = answers[q?.id] !== undefined;

      const Survey = () => (
        <Card>
          <div className="mb-4 flex items-center justify-between">
            <div className="text-sm font-semibold text-gray-600">{idx+1} / {questions.length}</div>
            <div className="text-sm font-semibold text-violet-600">{progress}%</div>
          </div>
          <div className="w-full h-2 bg-gray-200 rounded-full mb-6">
            <div className="h-2 rounded-full bg-gradient-to-r from-violet-600 to-pink-600" style={{width:`${progress}%`}}></div>
          </div>

          <div className="text-center mb-6">
            <div className={`inline-block ${typeInfo[q.type].color} text-white px-4 py-1 rounded-full text-xs font-bold mb-3`}>
              {typeInfo[q.type].name} ({q.type})
            </div>
            <!-- 유형 대표 이미지 (선택). 없으면 숨김 -->
            <img
              src={assetUrl(`riasec/${q.type}.png`)}
              onError={(e)=>{e.currentTarget.style.display='none';}}
              alt=""
              className="asset mx-auto mb-4 rounded-2xl w-full max-w-[420px] h-44"
              crossOrigin="anonymous"
            />
            <div className="text-6xl mb-3">{q.emoji}</div>
            <h2 className="text-xl sm:text-2xl font-bold leading-relaxed">{q.text}</h2>
            <p className="text-gray-500 text-sm mt-1">💼 {q.character}</p>
          </div>

          <div className="space-y-2 mb-6">
            {[
              {value:5,label:'매우 그렇다', color:'from-green-500 to-emerald-600'},
              {value:4,label:'그렇다',      color:'from-blue-500 to-cyan-600'},
              {value:3,label:'보통이다',    color:'from-yellow-500 to-orange-500'},
              {value:2,label:'그렇지 않다', color:'from-orange-500 to-red-500'},
              {value:1,label:'전혀 그렇지 않다', color:'from-red-500 to-pink-600'},
            ].map(opt=>(
              <button key={opt.value}
                onClick={()=>setAnswers(p=>({...p,[q.id]:opt.value}))}
                className={`w-full p-4 rounded-xl font-semibold transition ${
                  answers[q.id]===opt.value
                    ? `bg-gradient-to-r ${opt.color} text-white shadow`
                    : 'bg-gray-100 text-gray-700 hover:bg-gray-200'
                }`}>
                <div className="flex items-center justify-between">
                  <span>{opt.label}</span><span className="text-xl">{opt.value}</span>
                </div>
              </button>
            ))}
          </div>

          <div className="flex items-center justify-between pt-4 border-t">
            <button onClick={()=>setIdx(Math.max(0, idx-1))}
              disabled={idx===0}
              className="px-5 py-2 rounded-full font-semibold text-gray-600 hover:bg-gray-100 disabled:opacity-30">
              ← 이전
            </button>

            {idx < questions.length-1 ? (
              <button onClick={()=>{ if(answered){ setIdx(idx+1); window.scrollTo({top:0,behavior:'smooth'});} }}
                className={`px-6 py-2 rounded-full font-semibold ${answered ? 'bg-gradient-to-r from-violet-600 to-pink-600 text-white' : 'bg-gray-300 text-gray-500 cursor-not-allowed'}`}>
                다음 →
              </button>
            ) : (
              <button onClick={calcResults}
                disabled={Object.keys(answers).length < questions.length}
                className={`px-6 py-2 rounded-full font-semibold ${Object.keys(answers).length===questions.length ? 'bg-gradient-to-r from-emerald-600 to-green-600 text-white' : 'bg-gray-300 text-gray-500 cursor-not-allowed'}`}>
                결과 보기 ✨
              </button>
            )}
          </div>
        </Card>
      );

      const saveResultsAsJPG = async () => {
        const node = document.getElementById('result-card');
        await loadAllImagesIn(node); // 캡쳐 전 이미지 로딩 보장
        const canvas = await html2canvas(node, {
          scale: 2,
          backgroundColor: '#ffffff',
          useCORS: true,
          allowTaint: false
        });
        const a = document.createElement('a');
        a.download = 'career-result.jpg';
        a.href = canvas.toDataURL('image/jpeg', 0.95);
        a.click();
      };

      const Results = () => {
        const {topTypes, allScores, career, code} = results;
        const careerImg = assetUrl(`careers/${code}.jpg`);
        const onImgError = (e)=>{ e.currentTarget.src = assetUrl('defaults/career.jpg'); };

        return (
          <Card>
            <div id="result-card">
              <div className="text-center mb-6">
                <div className="inline-block p-3 bg-white rounded-full shadow mb-4">🏆</div>
                <h1 className="text-3xl font-extrabold mb-1">검사 완료!</h1>
                <p className="text-gray-600">당신만의 흥미 코드를 발견했어요</p>
              </div>

              <img
                src={careerImg}
                onError={onImgError}
                alt=""
                className="asset w-full h-48 sm:h-56 rounded-2xl object-cover mb-6"
                crossOrigin="anonymous"
              />

              <div className="rounded-2xl border p-5 mb-6">
                <h2 className="text-lg font-bold text-center mb-4">나의 흥미 코드 Top3</h2>
                <div className="flex items-center justify-center gap-3">
                  {topTypes.map((t, i)=>(
                    <div key={t.type} className="text-center">
                      <div className="text-2xl mb-1">{['🥇','🥈','🥉'][i]}</div>
                      <div className={`${typeInfo[t.type].color} text-white px-5 py-3 rounded-xl text-2xl font-extrabold`}>{t.type}</div>
                      <div className="mt-1 font-semibold">{typeInfo[t.type].name}</div>
                      <div className="text-xs text-gray-500">{Math.round(t.percentage)}%</div>
                    </div>
                  ))}
                </div>
              </div>

              <div className="rounded-2xl bg-gradient-to-b from-violet-50 to-pink-50 p-5 mb-6">
                <h3 className="font-bold text-center mb-3">📊 전체 유형 점수</h3>
                <div className="space-y-2">
                  {allScores.map(s=>(
                    <div key={s.type}>
                      <div className="flex justify-between text-sm font-semibold">
                        <span>{typeInfo[s.type].name} ({s.type})</span>
                        <span>{Math.round(s.percentage)}%</span>
                      </div>
                      <div className="h-3 bg-gray-200 rounded-full">
                        <div className={`${typeInfo[s.type].color} h-3 rounded-full`} style={{width:`${s.percentage}%`}}></div>
                      </div>
                    </div>
                  ))}
                </div>
              </div>

              <div className="rounded-2xl border p-5 mb-6">
                <div className="text-center mb-4">
                  <div className="inline-block bg-gradient-to-r from-violet-600 to-pink-600 text-white px-4 py-1 rounded-full text-sm font-bold">추천 진로</div>
                </div>
                <h3 className="text-2xl font-extrabold text-center mb-1">{career.title}</h3>
                <p className="text-center text-gray-600 mb-4">당신의 흥미와 미래 트렌드가 만나는 직업</p>

                <div className="grid sm:grid-cols-2 gap-3 mb-5">
                  {career.jobs.map((j,i)=>(
                    <div key={i} className="bg-white rounded-xl p-3 shadow-sm flex items-center gap-2">
                      <span className="text-violet-600">›</span>
                      <span className="font-semibold">{j}</span>
                    </div>
                  ))}
                </div>

                <div className="space-y-3">
                  <div className="bg-green-50 border-l-4 border-green-500 rounded-r-xl p-4">
                    <div className="font-bold mb-1">고등학교 단계</div>
                    <p>{career.roadmap.high}</p>
                  </div>
                  <div className="bg-blue-50 border-l-4 border-blue-500 rounded-r-xl p-4">
                    <div className="font-bold mb-1">대학 단계</div>
                    <p>{career.roadmap.college}</p>
                  </div>
                  <div className="bg-purple-50 border-l-4 border-purple-500 rounded-r-xl p-4">
                    <div className="font-bold mb-1">경험 및 활동</div>
                    <p>{career.roadmap.experience}</p>
                  </div>
                </div>

                <div className="grid sm:grid-cols-2 gap-4 mt-5">
                  <div className="bg-orange-50 rounded-2xl p-4">
                    <h4 className="font-bold mb-2">⚡ 핵심 역량</h4>
                    <ul className="space-y-1">{career.skills.map((s,i)=>(<li key={i} className="flex items-center gap-2"><span className="text-orange-500 font-bold">✓</span>{s}</li>))}</ul>
                  </div>
                  <div className="bg-emerald-50 rounded-2xl p-4">
                    <h4 className="font-bold mb-2">📈 5년 후 전망</h4>
                    <div className="text-center">
                      <div className="text-4xl font-extrabold text-emerald-600 mb-1">+{career.growth}%</div>
                      <div className="h-3 bg-white rounded-full">
                        <div className="h-3 rounded-full bg-gradient-to-r from-emerald-500 to-green-600" style={{width:`${career.growth}%`}}></div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <div className="flex flex-col sm:flex-row gap-3 sm:gap-4 justify-center">
              <button onClick={saveResultsAsJPG}
                className="px-5 py-3 rounded-full font-bold text-white bg-gradient-to-r from-fuchsia-600 to-violet-600">
                결과 JPG로 저장
              </button>
              <button onClick={()=>{ setPage('intro'); setIdx(0); setAnswers({}); setResults(null); }}
                className="px-5 py-3 rounded-full font-bold bg-white shadow hover:bg-gray-50">
                처음으로
              </button>
            </div>
          </Card>
        );
      };

      return (
        <div className="space-y-6 sm:space-y-8">
          {page==='intro'   && <Intro/>}
          {page==='survey'  && <Survey/>}
          {page==='results' && results && <Results/>}
        </div>
      );
    }

    ReactDOM.createRoot(document.getElementById('app')).render(<App/>);
  </script>

  <!-- html2canvas는 마지막에 로드 -->
  <script src="https://cdn.jsdelivr.net/npm/html2canvas@1.4.1/dist/html2canvas.min.js"></script>
</body>
</html>
